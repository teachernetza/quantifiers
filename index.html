<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Advanced Quantifiers | Rators Club</title>
    
    <link rel="icon" type="image/png" href="https://drive.google.com/thumbnail?id=1bOFY9XiVAv-WRQnVHXSnL5FHVEoK3UAp&sz=w128">
    <link rel="apple-touch-icon" href="https://drive.google.com/thumbnail?id=1bOFY9XiVAv-WRQnVHXSnL5FHVEoK3UAp&sz=w512">
    <meta name="theme-color" content="#FFFFFF">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@300;400;600;800;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        /* ==========================================================================
           1. PREMIUM LIGHT THEME & COLOR PALETTE
           ========================================================================== */
        :root {
            /* Fondos Blancos y Luminosos */
            --bg-base: #F8FAFC;        /* Blanco Nieve / Slate 50 */
            --bg-pure: #FFFFFF;        /* Blanco Puro */
            --bg-glass: rgba(255, 255, 255, 0.7);
            
            /* Rators Club Brand Colors (Versión Luminosa) */
            --rc-navy: #0F172A;        /* Slate 900 - Textos principales */
            --rc-blue: #2563EB;        /* Indigo 600 - Acentos primarios */
            --rc-cyan: #06B6D4;        /* Cyan 500 - Detalles tech */
            
            /* Semantic Colors (Elegantes y definidos) */
            --c-emerald: #10B981;      /* Éxito */
            --c-rose: #E11D48;         /* Error / Alertas */
            --c-amber: #F59E0B;        /* Advertencias / Tips */
            --c-purple: #8B5CF6;       /* Especiales */
            
            /* Textos */
            --text-heading: #020617;   /* Casi negro */
            --text-body: #334155;      /* Gris oscuro para lectura */
            --text-muted: #64748B;     /* Gris medio */
            
            /* Dimensiones y Física */
            --sidebar-width: 300px;
            --radius-md: 16px;
            --radius-lg: 24px;
            --shadow-soft: 0 10px 40px -10px rgba(15, 23, 42, 0.08);
            --shadow-float: 0 20px 50px -20px rgba(37, 99, 235, 0.25);
            --border-light: 1px solid rgba(15, 23, 42, 0.08);
            --trans-smooth: 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            --trans-fast: 0.2s ease;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-base);
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(6, 182, 212, 0.04), transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(37, 99, 235, 0.04), transparent 25%);
            color: var(--text-body);
            line-height: 1.7;
            overflow-x: hidden;
            display: flex;
            min-height: 100vh;
        }

        h1, h2, h3, h4 { font-family: 'Outfit', sans-serif; color: var(--text-heading); }
        
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-base); }
        ::-webkit-scrollbar-thumb { background: #CBD5E1; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--rc-blue); }

        /* ==========================================================================
           2. GATEWAY (PANTALLA DE INGRESO)
           ========================================================================== */
        #gateway {
            position: fixed; inset: 0; background: var(--bg-pure); z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 2rem; text-align: center;
            background-image: radial-gradient(circle at center, rgba(37,99,235,0.05) 0%, transparent 60%);
        }
        
        .gateway-logo { width: 150px; height: 150px; border-radius: 50%; padding: 5px; background: linear-gradient(135deg, var(--rc-blue), var(--rc-cyan)); margin-bottom: 2.5rem; box-shadow: var(--shadow-float); }
        .gateway-logo img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; border: 4px solid var(--bg-pure); }
        
        .gateway-title { font-family: 'Outfit'; font-size: 3rem; font-weight: 900; color: var(--rc-navy); margin-bottom: 0.5rem; letter-spacing: -1px; }
        .gateway-sub { color: var(--rc-blue); font-weight: 600; margin-bottom: 3rem; text-transform: uppercase; letter-spacing: 3px; font-size: 0.95rem; }
        
        .name-input {
            width: 100%; max-width: 400px; padding: 20px 25px; border-radius: var(--radius-lg);
            border: 2px solid #E2E8F0; background: var(--bg-base); text-align: center;
            font-family: 'Outfit'; font-size: 1.2rem; font-weight: 600; color: var(--rc-navy);
            transition: var(--trans-smooth); margin-bottom: 25px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.02);
        }
        .name-input::placeholder { color: #94A3B8; font-weight: 400; }
        .name-input:focus { border-color: var(--rc-blue); background: var(--bg-pure); box-shadow: 0 0 0 5px rgba(37,99,235,0.1); }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--rc-blue), var(--rc-cyan)); color: var(--bg-pure);
            padding: 20px 45px; border-radius: 50px; border: none; font-size: 1.1rem; font-weight: 800; font-family: 'Outfit';
            cursor: pointer; letter-spacing: 1px; box-shadow: var(--shadow-float); transition: var(--trans-smooth);
            width: 100%; max-width: 400px; position: relative; overflow: hidden;
        }
        .btn-primary::after { content: ''; position: absolute; top: 0; left: -100%; width: 50%; height: 100%; background: linear-gradient(to right, rgba(255,255,255,0), rgba(255,255,255,0.3), rgba(255,255,255,0)); transform: skewX(-20deg); transition: 0.5s; }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 25px 50px -15px rgba(6, 182, 212, 0.4); }
        .btn-primary:hover::after { left: 200%; }

        /* ==========================================================================
           3. SIDEBAR NAVIGATION (ELEGANT LIGHT)
           ========================================================================== */
        .sidebar {
            width: var(--sidebar-width); height: 100vh; background: var(--bg-pure);
            border-right: var(--border-light); color: var(--rc-navy); position: fixed; top: 0; left: 0; z-index: 1000;
            display: flex; flex-direction: column; transition: transform var(--trans-smooth); box-shadow: 5px 0 30px rgba(0,0,0,0.02);
        }

        .sidebar-header { padding: 3rem 2rem 2rem; text-align: center; border-bottom: var(--border-light); }
        .rc-logo-mini { width: 90px; height: 90px; margin: 0 auto 1.5rem; border-radius: 20px; box-shadow: var(--shadow-soft); overflow: hidden; background: var(--bg-base); }
        .rc-logo-mini img { width: 100%; height: 100%; object-fit: cover; }
        .rc-title { font-family: 'Outfit'; font-size: 1.4rem; font-weight: 900; letter-spacing: 0.5px; color: var(--rc-navy); }
        .rc-subtitle { font-size: 0.85rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; font-weight: 600; margin-top: 5px; }

        .nav-menu { padding: 2.5rem 1.5rem; flex: 1; display: flex; flex-direction: column; gap: 10px; }
        
        .nav-link {
            width: 100%; padding: 16px 20px; border-radius: 14px; background: transparent;
            border: 1px solid transparent; color: var(--text-muted); text-align: left; font-size: 1.05rem; font-weight: 600; font-family: 'Inter';
            cursor: pointer; transition: var(--trans-fast); display: flex; align-items: center; gap: 15px;
        }
        .nav-link i { font-size: 1.3rem; width: 26px; text-align: center; color: #CBD5E1; transition: var(--trans-fast); }
        
        .nav-link:hover { background: var(--bg-base); color: var(--rc-navy); border-color: #E2E8F0; }
        .nav-link:hover i { color: var(--rc-blue); }
        
        .nav-link.active {
            background: var(--rc-navy); color: var(--bg-pure); font-weight: 700;
            box-shadow: 0 10px 20px -5px rgba(15, 23, 42, 0.2); transform: translateX(5px);
        }
        .nav-link.active i { color: var(--rc-cyan); }

        .sidebar-footer { padding: 2rem; border-top: var(--border-light); }
        .logout-btn { background: #FEF2F2; color: var(--c-rose); border: none; padding: 12px; width: 100%; border-radius: 10px; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .logout-btn:hover { background: var(--c-rose); color: white; }

        /* ==========================================================================
           4. MAIN CONTENT & RESPONSIVE DESIGN
           ========================================================================== */
        .main-wrapper { margin-left: var(--sidebar-width); width: calc(100% - var(--sidebar-width)); min-height: 100vh; display: flex; flex-direction: column; transition: var(--trans-smooth); position: relative; }
        
        .mobile-header { display: none; background: var(--bg-pure); padding: 15px 25px; color: var(--rc-navy); align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 900; border-bottom: var(--border-light); box-shadow: var(--shadow-soft); }
        .btn-menu { background: transparent; border: none; color: var(--rc-navy); font-size: 1.6rem; cursor: pointer; }

        .content-container { padding: 4rem 3rem; max-width: 1000px; margin: 0 auto; width: 100%; flex: 1; }
        
        .sidebar-overlay { position: fixed; inset: 0; background: rgba(15,23,42,0.4); z-index: 999; display: none; opacity: 0; transition: opacity var(--trans-smooth); backdrop-filter: blur(4px); }

        @media (max-width: 1024px) {
            .sidebar { transform: translateX(-100%); }
            .sidebar.open { transform: translateX(0); }
            .main-wrapper { margin-left: 0; width: 100%; }
            .mobile-header { display: flex; }
            .sidebar-overlay.active { display: block; opacity: 1; }
            .content-container { padding: 2.5rem 1.5rem; }
        }

        /* ==========================================================================
           5. ELEGANT CARDS & EXPANDED THEORY
           ========================================================================== */
        .view-section { display: none; animation: slideUpFade 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; opacity: 0; transform: translateY(20px); }
        .view-section.active { display: block; }
        @keyframes slideUpFade { to { opacity: 1; transform: translateY(0); } }

        .glass-card {
            background: var(--bg-pure); border: var(--border-light); border-radius: var(--radius-lg);
            padding: 3.5rem; box-shadow: var(--shadow-soft); margin-bottom: 2.5rem; position: relative; overflow: hidden;
        }
        /* Decoración de la tarjeta */
        .glass-card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 6px; background: linear-gradient(90deg, var(--rc-blue), var(--rc-cyan)); }

        .hero-title { font-size: 3.2rem; margin-bottom: 1rem; color: var(--rc-navy); letter-spacing: -1px; }
        .hero-subtitle { font-size: 1.2rem; color: var(--text-muted); margin-bottom: 2.5rem; font-weight: 300; line-height: 1.6; }
        
        .student-badge { display: inline-flex; align-items: center; gap: 10px; background: #F0F9FF; color: var(--rc-blue); padding: 8px 18px; border-radius: 30px; font-weight: 600; font-size: 0.95rem; margin-bottom: 2rem; border: 1px solid #BAE6FD; }

        /* Typography Formatting */
        .master-text { font-size: 1.1rem; color: var(--text-body); margin-bottom: 1.5rem; text-align: justify; }
        .highlight { color: var(--rc-blue); font-weight: 700; background: rgba(37,99,235,0.05); padding: 2px 6px; border-radius: 4px; }
        
        /* Information Boxes */
        .info-box { background: var(--bg-base); border: 1px solid #E2E8F0; border-radius: var(--radius-md); padding: 25px; margin-bottom: 25px; position: relative; }
        .info-title { font-family: 'Outfit'; font-size: 1.3rem; font-weight: 700; margin-bottom: 15px; display: flex; align-items: center; gap: 12px; }
        
        .formula-bar {
            background: var(--rc-navy); color: var(--bg-pure); font-family: monospace; font-size: 1.25rem;
            font-weight: 600; padding: 15px 25px; border-radius: 12px; display: inline-block; margin: 15px 0;
            box-shadow: 0 10px 20px rgba(15,23,42,0.15); letter-spacing: 1px;
        }

        /* 4-Column Grid for Welcome Tab */
        .vocab-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-top: 2rem; }
        @media (max-width: 768px) { .vocab-grid { grid-template-columns: 1fr; } }
        
        .vocab-col { background: var(--bg-pure); border: 1px solid #E2E8F0; border-radius: 16px; padding: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
        .v-title { font-family: 'Outfit'; font-size: 1.1rem; font-weight: 800; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid; }
        .v-list { list-style: none; padding: 0; }
        .v-list li { margin-bottom: 8px; font-weight: 500; display: flex; align-items: center; gap: 8px; }
        .v-list li i { font-size: 0.8rem; opacity: 0.5; }

        /* Error Box */
        .error-box { background: #FEF2F2; border-left: 5px solid var(--c-rose); padding: 20px; border-radius: 0 12px 12px 0; margin: 20px 0; }
        .error-box h4 { color: #9F1239; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }

        /* ==========================================================================
           6. UNJUMBLE LAB (EXTENDED)
           ========================================================================== */
        .lab-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid #E2E8F0; }
        .level-badge { font-family: 'Outfit'; font-weight: 800; color: var(--rc-blue); font-size: 1.4rem; background: #EFF6FF; padding: 10px 20px; border-radius: 12px; }
        
        .game-area { background: var(--bg-base); border: 2px dashed #CBD5E1; border-radius: 20px; padding: 40px; text-align: center; transition: 0.3s; }
        .game-area:focus-within { border-color: var(--rc-blue); background: var(--bg-pure); }

        .answer-area { min-height: 90px; display: flex; flex-wrap: wrap; justify-content: center; align-content: center; gap: 12px; padding: 20px; border-bottom: 3px solid var(--rc-navy); margin-bottom: 30px; background: rgba(255,255,255,0.5); border-radius: 12px 12px 0 0; }
        .pool-area { min-height: 100px; display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; padding: 25px; background: #F1F5F9; border-radius: 16px; margin-bottom: 30px; }
        
        .word-chip {
            background: var(--bg-pure); color: var(--rc-navy); border: 1px solid #CBD5E1;
            padding: 12px 24px; border-radius: 10px; font-family: 'Inter'; font-weight: 600; font-size: 1.15rem;
            cursor: pointer; transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1); box-shadow: 0 4px 6px rgba(0,0,0,0.04);
            user-select: none;
        }
        .word-chip:hover { background: var(--rc-blue); color: white; border-color: var(--rc-blue); transform: translateY(-4px) scale(1.05); box-shadow: 0 10px 15px rgba(37,99,235,0.2); }
        .word-chip:active { transform: scale(0.95); }

        .teacher-feedback {
            display: none; background: #ECFDF5; border: 1px solid #A7F3D0; padding: 25px; border-radius: 16px;
            text-align: left; margin-top: 30px; animation: slideUpFade 0.5s;
        }
        .feedback-title { color: #065F46; font-family: 'Outfit'; font-weight: 800; font-size: 1.2rem; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        .feedback-text { color: #047857; font-size: 1.05rem; line-height: 1.6; }

        /* ==========================================================================
           7. EXAM ENGINE & FLOATING TIMER
           ========================================================================== */
        .exam-header-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 3rem; background: var(--bg-base); padding: 20px; border-radius: 16px; border: 1px solid #E2E8F0; }
        
        .q-tracker { font-family: 'Outfit'; font-size: 1.5rem; font-weight: 800; color: var(--rc-navy); }
        
        .timer-display {
            background: var(--bg-pure); color: var(--rc-blue); font-family: monospace; font-size: 1.8rem;
            font-weight: 700; padding: 12px 30px; border-radius: 50px; border: 2px solid var(--rc-blue);
            display: inline-flex; align-items: center; gap: 12px; box-shadow: var(--shadow-soft); transition: 0.3s;
        }
        .timer-display.danger { color: var(--c-rose); border-color: var(--c-rose); background: #FFF1F2; animation: pulseRed 1s infinite; box-shadow: 0 0 30px rgba(225, 29, 72, 0.3); }
        @keyframes pulseRed { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

        .question-text { font-size: 1.5rem; font-weight: 600; color: var(--rc-navy); margin-bottom: 2rem; line-height: 1.5; font-family: 'Outfit'; }
        
        .options-container { display: grid; gap: 16px; margin-bottom: 3rem; }
        .opt-card {
            width: 100%; padding: 20px 25px; border-radius: 16px; border: 2px solid #E2E8F0;
            background: var(--bg-pure); color: var(--text-body); font-size: 1.15rem; font-family: 'Inter';
            text-align: left; cursor: pointer; font-weight: 500; transition: var(--trans-fast);
        }
        .opt-card:hover { border-color: var(--rc-cyan); background: #F8FAFC; transform: translateX(5px); }
        .opt-card.selected { border-color: var(--rc-blue); background: var(--rc-blue); color: white; font-weight: 700; box-shadow: 0 10px 20px rgba(37,99,235,0.2); transform: translateX(10px); }

        /* ==========================================================================
           8. MODALS, TOASTS & UTILS
           ========================================================================== */
        .overlay { position: fixed; inset: 0; background: rgba(15,23,42,0.8); z-index: 5000; display: none; align-items: center; justify-content: center; padding: 20px; backdrop-filter: blur(10px); }
        .result-card { background: var(--bg-pure); width: 100%; max-width: 500px; padding: 4rem 3rem; border-radius: 24px; text-align: center; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); animation: zoomIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); position: relative; overflow: hidden; }
        .result-card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 8px; background: linear-gradient(90deg, var(--c-emerald), var(--rc-cyan)); }
        @keyframes zoomIn { from { transform: scale(0.8) translateY(30px); opacity: 0; } to { transform: scale(1) translateY(0); opacity: 1; } }
        
        .score-display { width: 160px; height: 160px; border-radius: 50%; border: 10px solid var(--rc-blue); display: flex; align-items: center; justify-content: center; margin: 0 auto 30px; font-size: 3.5rem; font-weight: 900; color: var(--rc-navy); font-family: 'Outfit'; box-shadow: inset 0 4px 10px rgba(0,0,0,0.05), 0 15px 30px rgba(37,99,235,0.2); }
        
        #toast { position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%); background: var(--rc-navy); color: white; padding: 16px 30px; border-radius: 50px; font-weight: 600; font-size: 1.05rem; opacity: 0; transition: 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55); pointer-events: none; z-index: 9999; box-shadow: 0 15px 30px rgba(15,23,42,0.3); display: flex; align-items: center; gap: 10px; }
        #toast.show { opacity: 1; transform: translateX(-50%) translateY(-20px); }

        .footer { text-align: center; padding: 2rem; color: var(--text-muted); font-size: 0.85rem; margin-top: auto; border-top: var(--border-light); }
    </style>
</head>
<body>

    <div id="gateway">
        <div class="gateway-logo">
            <img src="https://drive.google.com/thumbnail?id=1bOFY9XiVAv-WRQnVHXSnL5FHVEoK3UAp&sz=w300" alt="Rators Club Logo">
        </div>
        <h1 class="gateway-title">Quantifiers Masterclass</h1>
        <p class="gateway-sub">Technology & Culinary English</p>
        
        <input type="text" id="student-input" class="name-input" placeholder="Enter your full name..." autocomplete="off">
        <button class="btn-primary" onclick="initSystem()">ACCESS SECURE LAB</button>
    </div>

    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="rc-logo-mini"><img src="https://drive.google.com/thumbnail?id=1bOFY9XiVAv-WRQnVHXSnL5FHVEoK3UAp&sz=w200" alt="Logo"></div>
            <div class="rc-title">RATORS CLUB</div>
            <div class="rc-subtitle" id="ui-name">Student Name</div>
        </div>
        
        <nav class="nav-menu">
            <button class="nav-link active" onclick="navTo('sec-intro', this)"><i class="fas fa-layer-group"></i> 1. The Philosophy</button>
            <button class="nav-link" onclick="navTo('sec-comp', this)"><i class="fas fa-balance-scale-right"></i> 2. Comparatives</button>
            <button class="nav-link" onclick="navTo('sec-sup', this)"><i class="fas fa-trophy"></i> 3. Superlatives</button>
            <button class="nav-link" onclick="navTo('sec-lab', this)"><i class="fas fa-hammer"></i> 4. Syntax Lab</button>
            <button class="nav-link" onclick="navTo('sec-test', this)" style="color:var(--rc-blue);"><i class="fas fa-stopwatch"></i> 5. Certification</button>
        </nav>

        <div class="sidebar-footer">
            <button class="logout-btn" onclick="location.reload()"><i class="fas fa-power-off"></i> Terminar Sesión</button>
        </div>
    </aside>

    <main class="main-wrapper" id="main-content">
        
        <header class="mobile-header">
            <div style="font-family:'Outfit'; font-weight:800; font-size:1.2rem; letter-spacing:1px;"><i class="fas fa-shield-alt" style="color:var(--rc-blue);"></i> RATORS CLUB</div>
            <button class="btn-menu" onclick="toggleSidebar()"><i class="fas fa-bars"></i></button>
        </header>

        <div class="content-container">

            <section id="sec-intro" class="view-section active">
                <div class="glass-card">
                    <div class="student-badge"><i class="fas fa-id-badge"></i> Authenticated as: <span id="welcome-student-name" style="margin-left:5px;">Name</span></div>
                    
                    <h1 class="hero-title">The Philosophy of Quantifiers</h1>
                    <div class="hero-divider"></div>
                    
                    <p class="master-text">
                        En el idioma inglés, el universo material se divide estrictamente en dos dimensiones: <strong>lo discreto (Contable)</strong> y <strong>lo continuo (Incontable)</strong>. Comprender esta división es el secreto para dominar la gramática avanzada, especialmente cuando cruzamos el vocabulario de la <span class="highlight">Comida</span> con el de la <span class="highlight">Tecnología</span>.
                    </p>

                    <p class="master-text">
                        A diferencia del español, donde decimos "menos gente" o "menos agua" usando la misma palabra, el inglés exige precisión quirúrgica. Si puedes asignarle un número directo (1, 2, 3), es contable. Si necesitas una unidad de medida (litros, kilos, gigabytes de...), es incontable.
                    </p>

                    <div class="vocab-grid">
                        <div class="vocab-col">
                            <h4 class="v-title" style="color:var(--c-emerald); border-color:var(--c-emerald);">Countable Food</h4>
                            <ul class="v-list">
                                <li><i class="fas fa-hamburger" style="color:var(--c-emerald);"></i> Burgers (Hamburguesas)</li>
                                <li><i class="fas fa-apple-alt" style="color:var(--c-emerald);"></i> Apples (Manzanas)</li>
                                <li><i class="fas fa-egg" style="color:var(--c-emerald);"></i> Eggs (Huevos)</li>
                                <li><i class="fas fa-carrot" style="color:var(--c-emerald);"></i> Carrots (Zanahorias)</li>
                            </ul>
                        </div>
                        
                        <div class="vocab-col">
                            <h4 class="v-title" style="color:var(--rc-blue); border-color:var(--rc-blue);">Countable Tech</h4>
                            <ul class="v-list">
                                <li><i class="fas fa-laptop" style="color:var(--rc-blue);"></i> Laptops (Computadoras)</li>
                                <li><i class="fas fa-mobile-alt" style="color:var(--rc-blue);"></i> Devices (Dispositivos)</li>
                                <li><i class="fas fa-server" style="color:var(--rc-blue);"></i> Servers (Servidores)</li>
                                <li><i class="fas fa-plug" style="color:var(--rc-blue);"></i> Cables (Cables)</li>
                            </ul>
                        </div>

                        <div class="vocab-col">
                            <h4 class="v-title" style="color:var(--c-amber); border-color:var(--c-amber);">Uncountable Food</h4>
                            <ul class="v-list">
                                <li><i class="fas fa-tint" style="color:var(--c-amber);"></i> Water (Agua)</li>
                                <li><i class="fas fa-bowl-rice" style="color:var(--c-amber);"></i> Rice (Arroz)</li>
                                <li><i class="fas fa-cheese" style="color:var(--c-amber);"></i> Cheese (Queso)</li>
                                <li><i class="fas fa-drumstick-bite" style="color:var(--c-amber);"></i> Meat (Carne)</li>
                            </ul>
                        </div>

                        <div class="vocab-col">
                            <h4 class="v-title" style="color:var(--c-purple); border-color:var(--c-purple);">Uncountable Tech</h4>
                            <ul class="v-list">
                                <li><i class="fas fa-memory" style="color:var(--c-purple);"></i> RAM / Memory (Memoria)</li>
                                <li><i class="fas fa-code" style="color:var(--c-purple);"></i> Software (Software)</li>
                                <li><i class="fas fa-wifi" style="color:var(--c-purple);"></i> Bandwidth (Ancho de banda)</li>
                                <li><i class="fas fa-bolt" style="color:var(--c-purple);"></i> Power / Electricity (Energía)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section id="sec-comp" class="view-section">
                <div class="glass-card">
                    <h1 class="hero-title">The Comparatives Rule</h1>
                    <div class="hero-divider" style="background:var(--rc-blue);"></div>
                    
                    <p class="master-text">
                        La comparación establece una relación de superioridad o inferioridad entre exactamente <strong>dos entidades</strong>. Cuando trabajamos con sustantivos (cosas, no adjetivos), el inglés utiliza palabras cuantificadoras específicas.
                    </p>

                    <div class="info-box">
                        <div class="info-title" style="color:var(--c-emerald);"><i class="fas fa-arrow-up"></i> 1. Superiority: "MORE" (Más)</div>
                        <p>La regla más amable del idioma. "More" es el comodín universal. No importa si hablas de comida, tecnología, si es contable o incontable; "More" siempre funciona.</p>
                        <div class="formula-bar">Subject A + verb + MORE + Noun + THAN + Subject B</div>
                        
                        <div style="margin-top:20px; display:flex; flex-direction:column; gap:10px;">
                            <div style="background:var(--bg-pure); padding:15px; border-radius:8px; border-left:3px solid var(--c-emerald);">
                                <strong style="color:var(--rc-navy);">Countable:</strong> My new laptop has <strong>more ports than</strong> the old one.
                            </div>
                            <div style="background:var(--bg-pure); padding:15px; border-radius:8px; border-left:3px solid var(--c-emerald);">
                                <strong style="color:var(--rc-navy);">Uncountable:</strong> This recipe requires <strong>more sugar than</strong> usual.
                            </div>
                        </div>
                    </div>

                    <div class="info-box" style="margin-top:30px;">
                        <div class="info-title" style="color:var(--c-rose);"><i class="fas fa-arrow-down"></i> 2. Inferiority: "FEWER" vs "LESS" (Menos)</div>
                        <p>Aquí es donde el 90% de los estudiantes falla. En español usamos "menos" para todo. En inglés, debemos dividir nuestro cerebro.</p>
                        
                        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px; margin-top:20px;">
                            <div style="background:var(--bg-pure); padding:25px; border-radius:12px; box-shadow:var(--shadow-soft);">
                                <h4 style="color:var(--rc-blue); font-size:1.2rem; margin-bottom:10px;">FEWER (Para Contables)</h4>
                                <p style="font-size:0.95rem; color:var(--text-muted);">Úsalo exclusivamente con cosas que llevan "S" al final.</p>
                                <div class="formula-bar" style="font-size:1rem; padding:10px; width:100%; text-align:center;">FEWER + Plural Nouns</div>
                                <ul style="margin-top:15px; font-weight:500; font-size:0.95rem; padding-left:20px;">
                                    <li>I bought <strong>fewer apples</strong>.</li>
                                    <li>This hub has <strong>fewer cables</strong>.</li>
                                </ul>
                            </div>
                            
                            <div style="background:var(--bg-pure); padding:25px; border-radius:12px; box-shadow:var(--shadow-soft);">
                                <h4 style="color:var(--c-amber); font-size:1.2rem; margin-bottom:10px;">LESS (Para Incontables)</h4>
                                <p style="font-size:0.95rem; color:var(--text-muted);">Úsalo con masas, líquidos o conceptos sin plural.</p>
                                <div class="formula-bar" style="font-size:1rem; padding:10px; width:100%; text-align:center;">LESS + Uncountable Nouns</div>
                                <ul style="margin-top:15px; font-weight:500; font-size:0.95rem; padding-left:20px;">
                                    <li>Drink <strong>less water</strong>.</li>
                                    <li>It consumes <strong>less RAM</strong>.</li>
                                </ul>
                            </div>
                        </div>

                        <div class="error-box">
                            <h4><i class="fas fa-exclamation-triangle"></i> Fatal Grammar Error</h4>
                            <p style="font-size:0.95rem; color:var(--text-body);">
                                Decir <em>"This supermarket has less people"</em> es incorrecto (aunque lo escuches en la calle). Como la gente (people) se puede contar, la forma culta y correcta es <strong>"fewer people"</strong>.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="sec-sup" class="view-section">
                <div class="glass-card">
                    <h1 class="hero-title">The Superlatives Rule</h1>
                    <div class="hero-divider" style="background:var(--c-purple);"></div>
                    
                    <p class="master-text">
                        Mientras que los comparativos enfrentan a dos elementos, los Superlativos declaran al <strong>rey absoluto</strong> de un grupo (de 3 o más). Representan el límite superior o inferior de una característica. Siempre deben ir acompañados del artículo <strong>"THE"</strong>.
                    </p>

                    <div class="info-box">
                        <div class="info-title" style="color:var(--c-emerald);"><i class="fas fa-crown"></i> 1. The Ultimate Maximum: "THE MOST" (El Más)</div>
                        <p>Al igual que "more", el superlativo "The most" es universal. No discrimina entre contables o incontables. Es la cima de la pirámide.</p>
                        <div class="formula-bar">Subject + verb + THE MOST + Noun + (in/of...)</div>
                        
                        <div style="margin-top:20px; display:flex; flex-direction:column; gap:10px;">
                            <div style="background:var(--bg-pure); padding:15px; border-radius:8px; border-left:3px solid var(--c-emerald);">
                                <strong style="color:var(--rc-navy);">Countable:</strong> The iPhone 15 Pro has <strong>the most cameras</strong> in the line.
                            </div>
                            <div style="background:var(--bg-pure); padding:15px; border-radius:8px; border-left:3px solid var(--c-emerald);">
                                <strong style="color:var(--rc-navy);">Uncountable:</strong> That hard drive offers <strong>the most storage</strong> available.
                            </div>
                        </div>
                    </div>

                    <div class="info-box" style="margin-top:30px;">
                        <div class="info-title" style="color:var(--rc-navy);"><i class="fas fa-arrow-down"></i> 2. The Absolute Minimum: "FEWEST" vs "LEAST"</div>
                        <p>Nuevamente, para expresar "el que menos tiene", debemos aplicar el filtro gramatical dependiendo de la naturaleza de la palabra.</p>
                        
                        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px; margin-top:20px;">
                            <div style="background:var(--bg-pure); padding:25px; border-radius:12px; box-shadow:var(--shadow-soft); border-top: 4px solid var(--rc-blue);">
                                <h4 style="color:var(--rc-blue); font-size:1.2rem; margin-bottom:10px;">THE FEWEST (Contables)</h4>
                                <p style="font-size:0.95rem; color:var(--text-muted); margin-bottom:15px;">El número más pequeño de elementos en un grupo.</p>
                                <ul style="font-weight:500; font-size:0.95rem; padding-left:20px;">
                                    <li style="margin-bottom:8px;">Of all the students, John ate <strong>the fewest burgers</strong>.</li>
                                    <li>This basic model has <strong>the fewest buttons</strong>.</li>
                                </ul>
                            </div>
                            
                            <div style="background:var(--bg-pure); padding:25px; border-radius:12px; box-shadow:var(--shadow-soft); border-top: 4px solid var(--c-amber);">
                                <h4 style="color:var(--c-amber); font-size:1.2rem; margin-bottom:10px;">THE LEAST (Incontables)</h4>
                                <p style="font-size:0.95rem; color:var(--text-muted); margin-bottom:15px;">La menor cantidad de masa, volumen o concepto abstracto.</p>
                                <ul style="font-weight:500; font-size:0.95rem; padding-left:20px;">
                                    <li style="margin-bottom:8px;">This recipe requires <strong>the least salt</strong>.</li>
                                    <li>That software uses <strong>the least RAM</strong>.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="sec-lab" class="view-section">
                <div class="glass-card">
                    <h1 class="hero-title">Syntax Builder Lab</h1>
                    <div class="hero-divider" style="background:var(--c-emerald);"></div>
                    <p class="master-text">
                        La teoría no sirve de nada sin práctica muscular. Toca las palabras dispersas en el orden gramaticalmente correcto. Si dominas la estructura, la explicación del profesor se revelará.
                    </p>
                    
                    <div class="lab-header">
                        <div style="font-family:'Inter'; font-weight:600; color:var(--text-muted); text-transform:uppercase; letter-spacing:1px;">Practical Exercise</div>
                        <div class="level-badge" id="game-lvl-display">Level 1 / 8</div>
                    </div>

                    <div class="game-area" id="game-container">
                        <div class="answer-area" id="answer-box"></div>
                        <div class="pool-area" id="word-pool"></div>
                        
                        <button class="btn-primary" id="btn-check-game" style="max-width:300px; margin:0 auto;" onclick="checkGameState()">EVALUATE SYNTAX</button>
                        
                        <div class="teacher-feedback" id="game-feedback">
                            <div class="feedback-title"><i class="fas fa-check-circle"></i> Perfect Syntax!</div>
                            <div class="feedback-text" id="feedback-desc">Explicación del maestro aquí.</div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="sec-test" class="view-section">
                
                <div class="glass-card" id="test-intro-card">
                    <div style="text-align:center; padding:3rem 0;">
                        <div style="width:120px; height:120px; background:#EFF6FF; border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0
